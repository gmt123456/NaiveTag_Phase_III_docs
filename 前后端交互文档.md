# å‰åç«¯äº¤äº’æ–‡æ¡£

[TOC]

## ä¿®æ”¹è®°å½•

| ä¿®æ”¹äºº       | ä¿®æ”¹æ—¶é—´  | ä¿®æ”¹å†…å®¹                                           |
| ------------ | --------- | -------------------------------------------------- |
| å»–å‡è¾¾ã€è¨¾æº | åˆç¨¿      | åˆç¨¿                                               |
| å»–å‡è¾¾       | 2018-5-19 | æ·»åŠ ç™»å½•æ³¨å†Œéƒ¨åˆ†                                   |
| è¨¾æº         | 2018-5-21 | æ›´æ–°workerä¸ªäººä¿¡æ¯ã€ä»»åŠ¡åˆ—è¡¨ç­‰æœ‰å…³äº¤äº’ä¿¡æ¯         |
| è¨¾æº         | 2018-5-21 | æ›´æ–°ä¸ªäººåœ¨ä»»åŠ¡ä¸­çš„å‚ä¸éƒ¨åˆ†æœ‰å…³äº¤äº’ä¿¡æ¯             |
| å»–å‡è¾¾       | 2018-5-23 | å°†å‘å¸ƒè€…çš„è¿”å›ä¿¡æ¯ä¸­çš„æ‰€æœ‰ "fail" æ¢æˆäº† "failure" |
| å»–å‡è¾¾       | 2018-5-24 | ä¿®æ”¹å‘å¸ƒè€…ä»»åŠ¡åˆ—è¡¨ä»¥åŠä»»åŠ¡è¯¦ç»†ä¿¡æ¯çš„è¿”å›å­—æ®µä¿¡æ¯   |
| å»–å‡è¾¾       | 2018-5-28 | æ·»åŠ ç®¡ç†å‘˜ç™»å½•ã€æ³¨å†Œéƒ¨åˆ†                           |
| å»–å‡è¾¾       | 2018-6-1  | ä¿®æ”¹ç®¡ç†å‘˜æ•°æ®åˆ†æéƒ¨åˆ†                             |

## ç™»å½•æ³¨å†Œ

### ç™»å½•

```json
url: "login.html"
method: GET
param:
"email" : "excited@mail.com",
"password" : "asdfgsdfjk",
"userType" : "worker|requester"
return
{
    "message" : "balabala|null", // ç™»å½•å¤±è´¥ä¸ºnull
    "status" : "success|failure",
    "token" : "AdfaDAdfjakAdjf|null"
}
```

### ç™»å‡º

```json
url: "logout.html"
method: GET
param:
"token" : "ASdfaSDFAFasdafas"
no return message
```

### æ³¨å†Œ

```json
url: "checkEmail"
method: GET
param:
"email" : "fasdfds@mail.com"
return
{
    "status" : "valid|invalid|duplicate" // invalidä¸»è¦æ˜¯ä¸ºäº†éªŒè¯é‚®ç®±æ˜¯å¦çœŸå®æœ‰æ•ˆ
}

url: "signup.html"
method: GET
param:
"email" : "excited@1926.com"
"password" : "sajdfkjae"
"name" : "frog"
"userType" : "worker|requester"
return
{
    "message" : "balabala|null", // æ³¨å†ŒæˆåŠŸåˆ™ä¸ºnullï¼Œå¤±è´¥åˆ™è¿”å›erroråŸå› 
    "status" : "success|failure",
    "token" : "AdfSdaCasf|null" 
}
```

## å·¥äºº

### ä¸ªäººä¿¡æ¯ç•Œé¢

```
å‰ç«¯è®¿é—®urlï¼š/worker/userInfo/main.html

Getæ–¹æ³•ï¼Œéœ€è¦å‚æ•°tokenã€‚

åç«¯è¿”å›ï¼š
"avatar": "xxxxx", // url
"userName": "xxx"ï¼Œ
"email": "xxxx",
"lastVisit": "xxxx",
"rank": 8048000
"joint": "xxxx",
"dollars": x.xx,
"division": "xxx" (å¯èƒ½çš„å–å€¼ï¼šNovice, Contributor, Expert, Master, Grandmaster)
"score": xx.x

å‰ç«¯è®¿é—®url: /worker/userInfo/recent.html
Getæ–¹æ³•ï¼Œéœ€è¦å‚æ•°tokenã€‚

"dollarChanges": [
	{"date": "17-03-01", "value": 13.3}ï¼Œ
	...
]
"scoreChanges": [
  	{"date": "17-03-01", "value": 18.3},
  	...
]
"Activity": [
  	{"date": "17-03-01", "value": 18.3},
  	...
]// 365ä¸ªæ•°å­—ï¼Œè¡¨ç¤ºæ´»è·ƒåº¦ï¼Œç‘å¹´è¦ä¸è¦è€ƒè™‘å›å¤´å†è®®ï¼Œåæ­£2018å¹´ä¸æ˜¯ç‘å¹´
```

### è·å–å¤´åƒ

```
ä¸€èˆ¬è¯´æ¥ï¼Œåœ¨å…¶å®ƒç•Œé¢ï¼Œä¹Ÿè¦æœ‰è·å–å¤´åƒçš„åŠŸèƒ½ã€‚
å‰ç«¯è®¿é—®urlï¼š/worker/userInfo/avatar.html

GETæ–¹æ³•ï¼Œéœ€è¦å‚æ•°ï¼š
token

è¿”å›ä¸€ä¸ªurlï¼Œè¡¨æ˜äº†å¤´åƒçš„å­˜å‚¨ä½ç½®ã€‚
```

### ç¼–è¾‘ä¸ªäººä¿¡æ¯

```
ç¼–è¾‘ç”¨æˆ·åï¼š
å‰ç«¯è®¿é—®urlï¼š/worker/userInfo/editBasicInfo.html

GETæ–¹æ³•ï¼Œéœ€è¦å‚æ•°ï¼š
tokenï¼Œ
userName
è¿”å›
state: "xxx" // å¯é€‰ï¼šsuccess, fail
// å¦‚æœsuccessäº†ï¼Œå°±é‡æ–°è®¿é—®ä¸€ä¸‹ä¸ªäººä¿¡æ¯ç•Œé¢

ç¼–è¾‘å¤´åƒï¼š
å‰ç«¯è®¿é—®urlï¼š/worker/userInfo/editBasicAvatar.html
Postæ–¹æ³•ï¼Œéœ€è¦å‚æ•°
token,
avatar
è¿”å›
state: "xxxx" // å¯é€‰ï¼šsuccess, fail(ä¸çŸ¥é“ä¸ºä»€ä¹ˆå¤±è´¥äº†)

ç¼–è¾‘å¯†ç ï¼š
å‰ç«¯è®¿é—®urlï¼š/worker/userInfo/editPassword.html
GETæ–¹æ³•ï¼Œéœ€è¦å‚æ•°
token, 
oldPassword
newPassword
è¿”å›ï¼š
state: "xxxx" // å¯é€‰ï¼šsuccess, failure(ä¸çŸ¥é“ä¸ºä»€ä¹ˆå¤±è´¥äº†)ï¼Œ invalid password(åŸæ¥çš„å¯†ç æ˜¯é”™çš„)
```

### æ’è¡Œæ¦œ

```
å‰ç«¯è®¿é—®urlï¼š/worker/userInfo/rank.html

Getæ–¹æ³•ï¼Œéœ€è¦å‚æ•°ï¼š
token

è¿”å›ä¸€ä¸ª
[
  {
  	"userName": "xxx",
  	"score": xxx.x,
  	"division": "xxx",
  	"avatar": "xxxxx/xxx.jpg"
  }, 
  ...
]
```

### å·²å®Œæˆ

```
å‰ç«¯è®¿é—®urlï¼š/worker/userInfo/finished.html

Getæ–¹æ³•ï¼Œéœ€è¦å‚æ•°ï¼š
token

è¿”å›ä¸€ä¸ªåˆ—è¡¨ï¼Œåˆ—è¡¨ä¸­çš„æ¯ä¸€é¡¹éƒ½æ ‡å¿—ç€ä¸€ä¸ªä¸€çº§ä»»åŠ¡
[
  {
    "name": "xxx" // ä»»åŠ¡å
    "taskId": 2333 // ä»»åŠ¡ID
    "taskDescription": "xxxx" // ä»»åŠ¡æè¿°
    "taskCover": "xxxx/xxx/xx.jpg" // ä¸€ä¸ªurlï¼Œè¡¨ç¤ºä»»åŠ¡çš„å°é¢ï¼Œä»¥å›ºå®šçš„å°ºå¯¸æ˜¾ç¤ºï¼
    "earnedDollors": xx.xx // 2ä½å°æ•°ï¼Œè¡¨ç¤ºæŒ£æ¥çš„é’±æ•°
    "changeOfScore": xx.xx // åšçš„è¿™ä¸ªä»»åŠ¡å¼•èµ·çš„ç§¯åˆ†å˜åŒ–ï¼Œå¯æ­£å¯è´Ÿ
    "taskTypes": [401, 402] // è¿™ä¸ªä¸€çº§ä»»åŠ¡ä¸­åŒ…å«çš„ä»»åŠ¡çš„ç±»å‹
    "endDate": "2017-10-1" // ä»»åŠ¡æˆªæ­¢çš„æ—¶é—´
    "taskTags": ["nature", "history"] // ä»»åŠ¡çš„ä¸€äº›æ ‡ç­¾ä¿¡æ¯ï¼Œå°±æ˜¯ä»»åŠ¡çš„ä¸»é¢˜
    "totalDollars": xxxx // æ˜¾ç¤ºä¸æ˜¾ç¤ºæ— æ‰€è°“
  },
  ...
]
```

### æ­£åœ¨è¿›è¡Œ

```
å‰ç«¯è®¿é—®urlï¼š/worker/userInfo/doing.html

Getæ–¹æ³•ï¼Œéœ€è¦å‚æ•°ï¼š
token

è¿”å›ä¸€ä¸ªåˆ—è¡¨ï¼Œåˆ—è¡¨ä¸­çš„æ¯ä¸€é¡¹éƒ½æ ‡å¿—ç€ä¸€ä¸ªä¸€çº§ä»»åŠ¡
[
  {
    "name": "xxx" // ä»»åŠ¡å
    "taskId": 2333 // ä»»åŠ¡ID
    "taskDescription": "xxxx" // ä»»åŠ¡æè¿°
    "taskCover": "xxxx/xxx/xx.jpg" // ä¸€ä¸ªurlï¼Œè¡¨ç¤ºä»»åŠ¡çš„å°é¢ï¼Œä»¥å›ºå®šçš„å°ºå¯¸æ˜¾ç¤ºï¼
    "taskTypes": [401, 402] // è¿™ä¸ªä¸€çº§ä»»åŠ¡ä¸­åŒ…å«çš„ä»»åŠ¡çš„ç±»å‹
    "endDate": "2017-10-1" // ä»»åŠ¡æˆªæ­¢çš„æ—¶é—´
    "taskTags": ["nature", "history"] // ä»»åŠ¡çš„ä¸€äº›æ ‡ç­¾ä¿¡æ¯ï¼Œå°±æ˜¯ä»»åŠ¡çš„ä¸»é¢˜
    "totalDollars": xxxx 
  },
  ...
]
```

### è®¿é—®ä»»åŠ¡

```
ç‚¹å‡»æŸä¸ªä»»åŠ¡æ˜¯å¯ä»¥è®¿é—®çš„ï¼(è®¿é—®æŸä¸ªå…·ä½“çš„ä¸€çº§ä»»åŠ¡)
å‰ç«¯è®¿é—®urlï¼š/worker/task/index.html

Getæ–¹æ³•ï¼Œéœ€è¦å‚æ•°ï¼š
token
taskId

åç«¯è¿”å›ï¼š
{
  "name": "xxxx"
  "taskId": xxx
  "taskCover": "xxxxx"
  "taskDescription": "xxxx"
  "endDate": "2017-1-10"
  "state": "xxx" // å¯èƒ½çš„å€¼ Finished, Going
  "participated": true // æ˜¯å¦å·²ç»å‚ä¸äº†è¿™ä¸ªä»»åŠ¡
  "requiredDivision": "xxx" // è¡¨ç¤ºæ®µä½çš„ä¸€ä¸ªæšä¸¾å€¼ 
  "taskTags": ["å†›äº‹", "å†å²"] 
  "taskTypes": [401, 402]
  "taskBackground": "ä¸€æ®µæ–‡å­—ï¼Œæè¿°äº†ä¸‹ä»»åŠ¡çš„èƒŒæ™¯ï¼Œè¿™ä¸ªæ˜¯è¿­ä»£äºŒæ²¡æœ‰çš„"
  "totalDollars": xxxx // ä»·æ ¼
  "canAccept": true // ç”¨æˆ·æ²¡æœ‰æ¥è¿‡è¿™ä¸ªä»»åŠ¡ && ç”¨æˆ·æ»¡è¶³æ¥å—æ¡ä»¶ && æ­£åœ¨è¿›è¡Œä¸­ï¼Œå°±å¯ä»¥æ¥å—
  "earnedDollars": xxxx.xx // å¦‚æœç”¨æˆ·å‚ä¸äº†è¿™ä¸ªä»»åŠ¡è€Œä¸”è¿™ä¸ªä»»åŠ¡å·²ç»å®Œæˆï¼Œè¿™ä¸ªå­—æ®µæ‰æœ‰æ•ˆï¼Œå¦åˆ™å°±æ˜¯0
  "scoreChange": xxxx.x //å¦‚æœç”¨æˆ·å‚ä¸äº†è¿™ä¸ªä»»åŠ¡è€Œä¸”è¿™ä¸ªä»»åŠ¡å·²ç»å®Œæˆï¼Œè¿™ä¸ªå­—æ®µæ‰æœ‰æ•ˆï¼Œå¦åˆ™å°±æ˜¯0 è¿™ä¸¤ä¸ªå­—æ®µå¦‚æœæ— æ•ˆï¼Œå°±ä¸æ˜¾ç¤º
}
```

### åŠ å…¥ä¸€çº§ä»»åŠ¡

```
ç”¨æˆ·å¯ä»¥åŠ å…¥æŸä¸ªä¸€çº§ä»»åŠ¡ï¼
è¿™ä¸ªåœ¨è¿­ä»£äºŒä¸­æ²¡æœ‰
å‰ç«¯è®¿é—®urlï¼š/worker/join.html

éœ€è¦å‚æ•°ï¼š
token
taskId

è¿”å›
{
"result": true
"reason": "xxxxx" // å¦‚æœæ˜¯trueçš„è¯ï¼Œé‚£å°±æ˜¯ç©ºçš„
}
```

### æŸ¥çœ‹ALLä¸‹å±ä»»åŠ¡

```
æ€»çš„æ¥è¯´ï¼Œå°±æ˜¯å’Œoverviewå¹¶åˆ—çš„barä¸Šé¢çš„ç¬¬äºŒä¸ªé‡Œé¢ï¼Œæœ‰å¯èƒ½æœ‰å¾ˆå¤šæ ‡æ³¨æ–¹å¼(taskType)ï¼Œè¿™ä¸ªæ˜¯æ ¹æ®taskTypeè®¿é—®å­ä»»åŠ¡çš„æ–¹æ³•

å‰ç«¯è®¿é—®urlï¼š/worker/task/subTaskSet.html

éœ€è¦å‚æ•°ï¼š
token
taskId
taskType

è¿”å›
[
  {
    "subTaskId": xxxxxx
    "taskId": xxxx
    "cover": "xxxxx" // æ˜¯ä¸€ä¸ªURL
    "picCount": 66 // å›¾ç‰‡æ•°é‡
  },
  ...
]
```

### æŸ¥çœ‹å…·ä½“ä¸‹å±ä»»åŠ¡

```
ä¸‹å±ä»»åŠ¡ä¹Ÿæ˜¯å¯ä»¥å…·ä½“æŸ¥çœ‹çš„å…·ä½“å†…å®¹ã€‚

å‰ç«¯è®¿é—®urlï¼š/worker/task/subTask/details.html

éœ€è¦å‚æ•°ï¼š
token
taskId
subTaskId
taskType

1. å¦‚æœæ˜¯æ²¡æœ‰æ¥è¿‡çš„ä»»åŠ¡
è¿”å›:
{
  "taskId": "xxx"
  "subTaskId": "xxxx"
  "taskState": "unAccepted",
  "taskName": "xxx",
  "taskType": 401,
  "taskDescription": "xxxxxxxxxx",
  "picList": [ 
        "/image/xxx/xx.jpg",
        "/image/xxx/xx.jpg"
  ]
}

2. å¦‚æœæ˜¯å·²ç»æ¥è¿‡çš„ä»»åŠ¡
è¿”å›:
{
  "taskId": "xxx"
  "subTaskId": "xxxx"
  "taskState": "Accepted" 
  "taskName": "xxx",
  "taskType": 401,
  "taskDescription": "xxxxxxxxxx",
  "finishedPicList": [ 
        "/image/xxx/xx.jpg",
        "/image/xxx/xx.jpg"
  ],
  "unFinishedPicList": [ 
        "/image/xxx/xx.jpg",
        "/image/xxx/xx.jpg"
  ]
  "endDate": "xxxx/xx/xx xx:xx:xx" /
}

æäº¤æˆ–è€…ç»“ç®—äº†å°±ä¸ç»™ä»–çœ‹äº†ğŸ‘€
```

### æ‰¿æ¥ä¸‹å±å­ä»»åŠ¡

```
workerå¯ä»¥æ‰¿æ¥å·²ç»joinçš„ä»»åŠ¡çš„ä¸‹å±å­ä»»åŠ¡

å‰ç«¯è®¿é—®urlï¼š/worker/task/subTask/accept.html

éœ€è¦å‚æ•°ï¼š
token
taskId
taskType // intæ¥è¡¨ç¤º
subTaskId

åç«¯è¿”å›ï¼š
result: true
description: "xxxx" // å¦‚æœè¿”å›trueçš„è¯ï¼Œå°±å¯ä»¥æ— è§†
// è¿™ä¸ªdescriptionå‰ç«¯å¯ä»¥ä¸å¤„ç†ï¼Œæ˜¾ç¤ºä¸ºæœªçŸ¥é”™è¯¯å°±è¡Œäº†
```

### æäº¤ä¸‹å±å­ä»»åŠ¡

```
workerå¯ä»¥æäº¤å·²ç»joinçš„ä»»åŠ¡çš„ä¸‹å±å­ä»»åŠ¡

å‰ç«¯è®¿é—®urlï¼š/worker/task/subTask/commit.html

éœ€è¦å‚æ•°ï¼š
token
taskId
subTaskId

åç«¯è¿”å›ï¼š
result: true
description: "xxxx" // å¦‚æœè¿”å›trueçš„è¯ï¼Œå°±å¯ä»¥æ— è§†
// è¿™ä¸ªdescriptionå‰ç«¯å¯ä»¥ä¸å¤„ç†ï¼Œæ˜¾ç¤ºä¸ºæœªçŸ¥é”™è¯¯å°±è¡Œäº†
```

### ä¸ªäººåœ¨ä¸€çº§ä»»åŠ¡ä¸­çš„å‚ä¸

```
workerå¯ä»¥æŸ¥çœ‹è‡ªå·±åœ¨ä»¥åŠä»»åŠ¡ä¸­çš„å‚ä¸çŠ¶å†µæƒ…å†µ
è®¿é—®url: /worker/task/myparticipation.html

å‚æ•°
token
taskId
taskState // è¿™å„¿è¦ç”¨æˆ·å»é€‰æ‹©

--> è¿™ä¸ªå‚ä¸æƒ…å†µç±»ä¼¼äºè¿­ä»£äºŒçš„ä»»åŠ¡çŠ¶æ€ï¼Œæœ‰ç­‰å¾…ç»“ç®—ï¼Œè¿‡æœŸï¼Œè¿›è¡Œä¸­ã€‚ // waiting, expired, doing
--> å½“è¿™ä¸ªä¸€çº§ä»»åŠ¡ç»“æŸåï¼Œæ‰€æœ‰å‚ä¸çš„å°ä»»åŠ¡åªæœ‰å·²å®Œæˆã€è¿‡æœŸä¸¤ä¸ªçŠ¶æ€ã€‚ // expired, finished
--> å·²å®Œæˆ/è¿‡æœŸ/ç­‰å¾…ç»“ç®—ä¸èƒ½ç‚¹è¿›å»çœ‹

[
  {
    "cover": "xxxx/xxxx" // å°é¢
    "expiredDate": "xxxxxx"
    "commiteDate": "xxxxx" // å¯èƒ½æ˜¯ç©ºçš„ï¼Œå¦‚æœæ²¡æäº¤å°±æ˜¯ç©ºçš„
    "subTaskId": xxxx
    "taskType": xxxx // ä»»åŠ¡ç±»å‹
    "process": 0-100ä¹‹é—´çš„æ•´æ•°
	"picAmount": xxx // å›¾ç‰‡æ•°é‡
  }
]
```

### æ¨èä»»åŠ¡åˆ—è¡¨

```
æ¨èä»»åŠ¡æœ¬èº«å¯ä»¥åŠ ç­›é€‰æ¡ä»¶çš„ã€‚
å‰ç«¯è®¿é—®urlï¼š/worker/task/recommendation.html

Getæ–¹æ³•ï¼Œéœ€è¦å‚æ•°ï¼š
token

åç«¯è¿”å› // è¿™å„¿çš„å­—æ®µå’Œç”¨æˆ·æ­£åœ¨åšçš„ä»»åŠ¡çš„åˆ—è¡¨æ˜¯ä¸€è‡´çš„ï¼Œæ¨èçš„ä»»åŠ¡åªèƒ½æ˜¯ç”¨æˆ·æ²¡æœ‰æ¥çš„ã€‚
[
  {
  	"name": "xxx" // ä»»åŠ¡å
    "taskId": 2333 // ä»»åŠ¡ID
    "taskDescription": "xxxx" // ä»»åŠ¡æè¿°
    "taskCover": "xxxx/xxx/xx.jpg" // ä¸€ä¸ªurlï¼Œè¡¨ç¤ºä»»åŠ¡çš„å°é¢ï¼Œä»¥å›ºå®šçš„å°ºå¯¸æ˜¾ç¤ºï¼
    "taskType": [401, 402] // è¿™ä¸ªä¸€çº§ä»»åŠ¡ä¸­åŒ…å«çš„ä»»åŠ¡çš„ç±»å‹
    "endDate": "2017-10-1" // ä»»åŠ¡æˆªæ­¢çš„æ—¶é—´
    "taskTag": ["nature", "history"] // ä»»åŠ¡çš„ä¸€äº›æ ‡ç­¾ä¿¡æ¯ï¼Œå°±æ˜¯ä»»åŠ¡çš„ä¸»é¢˜
  	"totalDollars": xxxx // å¥–æ± æ€»é‡‘é¢
  },
  ...
]
```

### æœç´¢ä»»åŠ¡

```
æœç´¢ä»»åŠ¡æœ¬èº«ä¹Ÿæ˜¯å¯ä»¥åŠ ç­›é€‰æ¡ä»¶çš„ã€‚
å‰ç«¯è®¿é—®urlï¼š/worker/task/search.html

Getæ–¹æ³•ï¼Œéœ€è¦å‚æ•°ï¼š
token
taskType // æŒ‡çš„æ˜¯401ï¼Œ402ä¹‹ç±»çš„ï¼Œå¦‚æœç”¨æˆ·æ²¡é€‰ï¼Œé‚£å°±æ˜¯ä¼ è¿‡æ¥0
taskTag // ä»»åŠ¡çš„é¢˜æï¼Œå¯èƒ½æ˜¯å†›äº‹å•Šï¼Œè‡ªç„¶å•Šä¹‹ç±»çš„ï¼Œä¹‹åä¼šæœ‰ä¸€ä¸ªå¯èƒ½å–å€¼çš„è¡¨æ ¼
--> military,
    nature,
    sports,
    humanity,
    science,
    politics,
    others,
    all; // all è¡¨ç¤ºå…¨éƒ¨éƒ½è¿”å›ï¼Œè¿™ä¸ªè¦ä¼ å›æ¥ä¸€ä¸ªå­—ç¬¦ä¸²
rankType // æ’åºæ–¹å¼ï¼Œæä¾›é»˜è®¤æ’åºï¼ŒæŒ‰ç…§é‡‘é’±æ•°é‡é™åºï¼ŒæŒ‰ç…§é‡‘é’±å‡åº
--> DEFAULT,
    MONEY_DESCEND,
    MONEY_ASCEND; // ä¼ å›æ¥ä¸€ä¸ªå­—ç¬¦ä¸²
begin // èµ·å§‹ä½ç½®ï¼Œä»0å¼€å§‹
step // è¯·æ±‚çš„æ¨èä»»åŠ¡çš„æ•°é‡ï¼Œè¿­ä»£ä¸‰åº”è¯¥å®ç°ä¸‹æ‹‰åˆ·æ–°ï¼Œæ‰€ä»¥å°±ä¸è®¾ç½®é¡µäº†
key // å­—ç¬¦ä¸²ï¼Œç”¨æˆ·ä¸ºæœç´¢æä¾›çš„å…³é”®å­—
canAccept // ç­›é€‰æ¡ä»¶ï¼ŒæŒ‡çš„æ˜¯ç”¨æˆ·æ˜¯å¦å¯ä»¥æ¥å—ï¼Œå¦‚æœæ˜¯falseå°±è¿”å›æ‰€æœ‰çš„ï¼Œå¦‚æœæ˜¯trueå°±åªè¿”å›å¯ä»¥æ¥å—çš„

åç«¯è¿”å› // è¿™å„¿çš„å­—æ®µå’Œç”¨æˆ·æ­£åœ¨åšçš„ä»»åŠ¡çš„åˆ—è¡¨æ˜¯ä¸€è‡´çš„ï¼Œæœç´¢çš„ä»»åŠ¡åªèƒ½æ˜¯ç”¨æˆ·æ²¡æœ‰æ¥çš„ã€‚
[
  {
  	"name": "xxx" // ä»»åŠ¡å
    "taskId": 2333 // ä»»åŠ¡ID
    "taskDescription": "xxxx" // ä»»åŠ¡æè¿°
    "taskCover": "xxxx/xxx/xx.jpg" // ä¸€ä¸ªurlï¼Œè¡¨ç¤ºä»»åŠ¡çš„å°é¢ï¼Œä»¥å›ºå®šçš„å°ºå¯¸æ˜¾ç¤ºï¼
    "taskType": [401, 402] // è¿™ä¸ªä¸€çº§ä»»åŠ¡ä¸­åŒ…å«çš„ä»»åŠ¡çš„ç±»å‹
    "endDate": "2017-10-1" // ä»»åŠ¡æˆªæ­¢çš„æ—¶é—´
    "taskTag": ["nature", "history"] // ä»»åŠ¡çš„ä¸€äº›æ ‡ç­¾ä¿¡æ¯ï¼Œå°±æ˜¯ä»»åŠ¡çš„ä¸»é¢˜
  	"totalDollars": xxxx // å¥–æ± æ€»é‡‘é¢
  },
  ...
]
```



### æ ‡æ³¨æ¨¡å—

```
ç›´æ¥å¤ç”¨ä¹‹å‰ä»£ç ï¼Œä¸è¿‡userçš„éªŒè¯ä¿¡æ¯å…¨éƒ¨å˜æˆtokenï¼Œå¤–åŠ subTaskId
```

### ç™»å‡º

```
å‰ç«¯è®¿é—®urlï¼š/logout.html

Getå‚æ•°ï¼š
token
æ— è¿”å›ä¿¡æ¯ã€‚
```

## å®¢æœäººå‘˜

### ç™»å½•

å’Œç®¡ç†å‘˜å…±ç”¨ä¸€ä¸ªurl

## å‘å¸ƒè€…

### ä¸ªäººä¿¡æ¯

```json
url: "requster/userInfo/main.html" // ä¸»è¦ä¿¡æ¯
method: GET
param:
token
return 
{
    "name" : "xxx",
    "email" : "xxx",
    "signMessage" : "Joined x ago last seen in x day",
    "dollars" : "9,999.20",
    "avatar" : "jsaldfjasdl.png",
}

url: "requester/userInfo/accountInfo.html" // è´¦æˆ·å˜åŠ¨
method: GET
param:
"token" : 2341234
"page" : 1
"pageSize" : 20
è¿”å›ä¸€ä¸ªçŸ©é˜µï¼Œæ¯ä¸ªè¡Œå‘é‡ä¸­çš„å€¼ä»å·¦åˆ°å³ä¸ºï¼šå˜åŠ¨é‡‘é¢ï¼Œå˜åŠ¨åŸå› ï¼Œä½™é¢ï¼Œå˜åŠ¨æ—¶é—´ï¼Œ é™åºæ’åˆ—
return
[
    ["+1,000.2", "change type", "2,000.2", "2018-5-15 12:00"]
    ["-2,000,000.2", "change type", "0", "2018-4-30 11:00"]
]

url: "requester/userInfo/recharge.html"
method: POST
param:
{
    "token" : "198372",
    "dollars" : 2832000.23,
}

// å¦‚æœ status ä¸º successï¼Œ é‚£ä¹ˆ message ä¸º null
return {
    "message": "balabla",
    "status" : "success|failure"
}

url: "requester/userInfo/checkOldPassword.html" // æ£€æŸ¥ç”¨æˆ·æ—§å¯†ç çš„æ­£ç¡®æ€§

url: "requester/userInfo/changeAvatar.html" // ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯
method: POST
param:
{
    "avatar" : "string",
}
url: "requester/userInfo/changeName.html"
param:
{
    "name" : "sdfasfd",
}
url: "requester/userInfo/changePassword.html"
{
    "oldPassword" : "123424",
    "newPassword" : "asfjiesd"
}
// ä¸Šé¢ä¸‰ä¸ªæ–¹æ³•è¿”å›å½¢å¼å‡å¦‚ä¸‹
return 
{
    "message" : "null|balabala",
    "status" : "success|failure"
}
```

### ä»»åŠ¡åˆ›å»º

```json
url: "requester/new/info.html" // è¿”å›ç³»ç»Ÿé¢„è®¾æ ‡ç­¾ï¼Œé¢„è®¾ä»»åŠ¡ç±»å‹
method: GET
return 
{
    "tags" : ["a", "b", "c"],
    "divisions" : ["Novice", "Contributor", "Expert", "Master", "Grandmaster"]
}

url: "requester/new/taskOrder.html" // æ–°å»ºä»»åŠ¡
method: POST
param:
{
    "token" : "asdfkjdk13df",
    "cover" : "string", // å¯é€‰ï¼Œå’Œå¤´åƒä¸Šä¼ ä¸€æ ·
    "backgroundImage" : "string",  // å¯é€‰ï¼Œå’Œå¤´åƒä¸Šä¼ ä¸€æ ·
    "title" : "balabala",
    "tags" : ["a", "b", "c"],
    "description" : "balabala",
    "tasks" : [
        {
            "type" : 100,
            "description" : "bala",
            "labels" : ["a", "b", "c"]
        },
        {
            "type": 101,
            "description" : "bala",
            "labels" : ["a", "b", "c"]
        }
    ],
    "dataset" : "multipart-file",
    "readme" : "balabala",
    "deadline" : "2018-5-20",
    "lowestDivision" : "novice",
}
return
{
    "status" : "success|faliure",
    "message" : "null|balabala",
    // å¦‚æœè¿”å›çš„ status æ˜¯æˆåŠŸåˆ™æœ‰ä¸‹é¢ä¸¤ä¸ªå­—æ®µï¼Œå¦åˆ™æ²¡æœ‰
    "orderId" : "dsfdsf",  // è®¢å•ç¼–å·
    "pictureNum" : 1234,
    "payLowerBound" : 21412342.11,  // æœ€å°‘ä»˜å¤šå°‘
}

url: "requester/new/pay.html"
method: GET
param:
"token" : "1234AS234234",
"status" : "accept|reject", // å¦‚æœæ‹’ç»äº†ï¼Œåé¢çš„å°±ä¸ç”¨ä¼ äº†æˆ–æ˜¯ä¼ ä¸€ä¸ªnullï¼Œæ–¹ä¾¿ä¸ºå¥½
"orderId" : "dfadsfa",
"dollars" : 123432.11,
"advertisementDollars" : 2341234

return {
    "status" : "success|failure",
    "message" : "null|balabala"
}
```

### ä»»åŠ¡åˆ—è¡¨

```json
url: "requester/task/ongoing.html" // æ­£åœ¨è¿›è¡Œä¸­çš„ä»»åŠ¡åˆ—è¡¨
method: GET
param:
"token" : 21423
return 
[
    {
        "taskId" : 12312,
        "title" : "balabala",
        "description" : "balabala",
        "cover" : "url",
        "tags" : ["a", "b", "c", "d"],
        "dollars" : 200.1,
        "participantsNum" : 1234,
        "pictureNum" : 1234,
        "timeInfo" : "upload 2 months ago, 30 days to go",
        "workerRequirement" : "novice",
    }
]

url: "requester/task/done.html" // å·²ç»å®Œæˆçš„ä»»åŠ¡åˆ—è¡¨
method: GET
return å’Œä¸Šé¢ä¸€æ¨¡ä¸€æ ·
```

### ä»»åŠ¡è¯¦æƒ…

```json
url: "requester/task/sketch.html" // ä»»åŠ¡åŸºæœ¬æè¿°ï¼Œå³ä¸Šé¢é‚£ä¸€å—æ˜¾ç¤ºçš„å†…å®¹
method: GET
param:
"taskId" : 1234
return
{
    "title" : "balabala",
    "taskId" : 12324,
    "cover" : "url",
    "description" : "balabala",
    "tags" : ["a", "b", "c", "d"],
    "dollars" : 12324.11,
    "backgroudImage" : "url",
    "participantsNum" : 1234,
    "pictureNum" : 1234,
    "types" : [100, 101, 200],
    "timeInfo" : "upload 2 months ago, 30 days to go",
    "deadline" : "2018-5-12 23:59",
    "process": 0.86,
    "state" : "on_going|finished"
 }

url: "requester/task/participants.html" // å‚ä¸è€…æ’è¡Œæ¦œï¼Œå‰20å°†è¢«æ˜¾ç¤º
method: GET
param:
"taskId" : 1234
return 
[
    {
        "name" : "frog",
        "avatar" : "frog.jpg",
        "level" : "novice",
        "pictureNum" : 123,
    }
]

url: "requster/task/readme.html" // ä»»åŠ¡çš„è¯¦ç»†æè¿°ï¼Œç±»ä¼¼äºgithubçš„readme
method: GET
param:
"taskId" : 1234
return
{
    "readme" : "balabala"
}

url: "requester/task/subtask.html" // å­ä»»åŠ¡ä¿¡æ¯
method: GET
param:
"taskId" : 1234,
return
[
    {
        "type" : "type1",
        "process" : 0.87,
        "participantsNum" : 100,
        "description" : "asfadsfss",
        "participants" : [
            {
                "name" : "frog",
                "avatar" : "frog.jpg",
                "level" : "novice",
                "pictureNum" : 123,
            }
        ]
    }
]

url: "requester/task/download.html" // ä¸‹è½½ä»»åŠ¡ç»“æœï¼Œéœ€è¦å…ˆåˆ¤æ–­æ€»ä»»åŠ¡è¿›åº¦æ˜¯å¦ä¸º1
method: GET
param:
"taskId" : 23413
return
"filepath"

url: "requester/task/editReadme.html" // ä¿®æ”¹readmeçš„å†…å®¹
method: POST
param:
{
    "taskId" : 1234,
    "readme" : "content"
}
return
{
    "message" : "null|content",
    "status" : "success|fail"
}
```

## ç®¡ç†å‘˜

### ç™»å½•

```json
url: "inside/login"
method: GET

param:
{
    "username" : "admin",  // å®¢æœäººå‘˜å®é™…ä¸Šæ˜¯emailï¼Œä½†æ˜¯æ­¤å¤„åç§°ä»ä¸ºusername
    "password" : "admin"  // åˆå§‹å€¼å‡ä¸º admin
}
return
{
    "status" : "success|failure",
    "message" : "null|balabala",
    "token" : "aslkfjasdvx313jlk4j32"
}

url: "inside/new/admin"  // åˆ›å»ºæ–°çš„ç®¡ç†å‘˜
method: GET

param:
{
    "token" : "asfjasldfjei",  // ä¸»è¦ç”¨äºéªŒè¯å½“å‰ç®¡ç†å‘˜æƒé™
    "newAdminName" : "admin2",
    "password" : "password",
}

return {
    "status" : "success|failure",
    "message" : "null|balabala"
}
```

### åˆ›å»ºå®¢æœäººå‘˜

```json
url: "admin/newStaff"
method: GET

param:
{
    "token" : "bas34jk31ld1334nddf",
    "email" : "frog@naive.com",  // staff name
    "password" : "sometimesnaive"
}

return {
    "status" : "success|failure",
    "message" : "null|balabala"
}
```

### ç”¨æˆ·åˆ—è¡¨

è¯´æ˜ï¼š

- GET æ–¹æ³•ä¼ é€’çš„å‚æ•°ä¸­çš„ `page`ï¼Œ `pageSize` ä¸»è¦æ˜¯ç”¨æ¥å®ç°ä¸‹æ‹‰æ˜¾ç¤ºæ›´å¤šçš„å†…å®¹ï¼Œpageè¡¨ç¤ºç¬¬å‡ é¡µï¼ŒpageSize ç”¨æ¥è¡¨ç¤ºä¸€æ¬¡åˆ·æ–°è·å¾—å¤šå°‘ user çš„ä¿¡æ¯

```json
url: "admin/workers.html" // é»˜è®¤è¿”å›æ’è¡Œçš„å·¥äºº
method: GET
param:
"page" : 1  // start from 1
"pageSize" : 20
return
[
    {
        "name" : "frog",
        "email" : "12341234@mail.com",
        "avatar" : "frog.jpg",
        "signupTime" : "2018-5-15",
        "dollars" : 2000,
        "division" : "novice",
        "score" : 1342
    }
]

url: "admin/requester.html" // é»˜è®¤è¿”å›å‘å¸ƒä»»åŠ¡æ•°é‡æœ€å¤šçš„å‘å¸ƒè€…
method: GET
param:
"page" : 1
"pageSize" : 20  // å¦‚æœæ˜¯0çš„è¯å°±ä¼šè¿”å›æ‰€æœ‰çš„
return
[
    {
        "name" : "frog",
        "avatar" : "frog.jpg",
        "signupTime" : "2018-5-15",
        "dollars" : 2000,
        "tasksNum" : 1342,
        "email" : "2134213@mail.com"
    }
]

url: "admin/searchUser.html" // æœç´¢ç”¨æˆ·
method: GET
param:
"key" : "balabala"
"userType" : "worker|requester"
"page" : 1
"pageSize" : 20
return: å’Œä¸Šé¢çš„worker,requesterçš„ä¿¡æ¯ä¸€æ¨¡ä¸€æ ·

url: "admin/modify/password.html" // ä¿®æ”¹ç”¨æˆ·æ•°æ®
method: POST
param:
{
    "token" : "asldfj3j423l4j234",  // admin çš„è´¦å·
    "email" : "email@email.com",  // user çš„è´¦å·
    "newPassword" : "1234123",
}

url: "admin/modify/dollars"
method: POST
param:
{
    "token" : "a234j34jl3m34i23n",
    "email" : "email@email.com",
    "dollars" : "134555"
}
return
{
    "message" : "null|content",
    "status" : "success|fail"
}
```

### æ•°æ®åˆ†æ

```json
url: "admin/statistic/activeUser.html" \\ æ´»è·ƒç”¨æˆ·
method: GET
return:
{
    "time" : ["time", "time", "time", "time"],
    "totalData" : [123, 123, 234, 234],
    "workerData" : [123, 123, 234, 234],
    "requesterData" : [123, 123, 234, 234]
}

url: "admin/statistic/signUpUser.html"
method: GET
return:
{
    "time" : ["time", "time", "time", "time"],
    "userData" : [123, 123, 234, 234],
    "workerData" : [123, 123, 234, 234],
    "requesterData" : [123, 123, 234, 234]
}

url: "admin/statistic/tasks.html"
return:
{
    "time" : ["time", "time", "time", "time"],
    "doneNumber" : [123, 123, 234, 234],
    "commitNumber" : [123, 123, 234, 234],
    "releaseNumber" : [123, 321, 133, 312]
}
```

